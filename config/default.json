/**
 * These are the default configuration values for the nocto bot system.
 * It is recommended to keep this file intact and override values using a `local.json`.
 * See https://github.com/lorenwest/node-config/wiki/Configuration-Files for details.
 * Values marked with {override} must be changed in order for the bot to function.
 */

{
    "api": {
        // Telegram bot API token {override}
        "token": "",
        // Location of Telegram bot API
        "baseUri": "https://api.telegram.org/bot",
        // Time before failing API call [ms]
        "callTimeout": 5000,
        // Wait time before retrying a failed long poll, if retry is desired [ms]
        "pollRetry": 30000,
        // Long polling connection hold time hint [s]
        // Higher values have less overhead but Telegram seems to be forcing a cap of 20 at the moment
        "pollTimeout": 60,
        // Whether to enforce certificate validity
        "strictSSL": true,
        // Limit on open connections with the Telegram servers
        "maxSimultaneousConnections": 4,
        // True to cancel bot init if the initial getMe API call fails
        "mandatoryHandshake": true
    },
    
    "behavior": {
        // Whether to process or drop messages sent directly to the bot
        // Options for more detailed control will be added later
        // Set everything to false to completely block private messages
        "allowPrivate": {
            // If true, accept private messages from strangers
            "fromAll": true
        },
        
        // Array of prefix strings to recognize as a command message
        "commandPrefix": [ "/" ]
    },

    "plugins": {
        // If true, automatically load every plugin from plugins directory not starting with a .
        "loadAll": true,

        // Manual list of plugins to load (alternative to loadAll)
        // Ordered from high to low processing priority
        "register": [
        ],
        
        // List of plugins to always enable after bot start or reload command
        // Can be used as an alternative or supplement to the pluginctl service
        "autoEnabled": [
        ],
        
        // Optional plugin-specific configuration overrides
        "config": {
            "echo": {
                "reverse": false
            }        
        }
    },

    "services": {
        // List of optional bot components to load
        // Plugins may depend on some of these, and services may depend on other services
        "register": [
            "userdata",
            "persist",
            "emoji",
            "interact",
            "pluginctl"
        ],

        // Service-specific configuration options
        "config": {
            "interact": {
                // Time to wait before resetting state, or 0 for indefinite [ms]
                "defaultTimeout": 60000
            }
        }
    },

    // See https://github.com/nomiddlename/log4js-node#configuration
    "log": {
        "appenders": [
            {
                "type": "console"
            },
            {
                "type": "dateFile",
                "filename": "logs/nocto",
                "pattern": "-yyyy-MM-dd.log",
                "alwaysIncludePattern": true
            }
        ],
      
        "levels": {
            "nocto": "DEBUG",
            "tgbot": "DEBUG",
            "plugins": "DEBUG"
        }
    },

    // Process return codes for various conditions
    "exitCodes": {
        "botStartFailed": 3,
        "unexpectedExit": 4,
        "cleanInterruptExit": 5,
        "dirtyInterruptExit": 6,
        "forcedInterruptExit": 7
    }
}
